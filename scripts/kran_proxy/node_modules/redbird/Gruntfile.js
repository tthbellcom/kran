
module.exports = function(grunt){
  grunt.initConfig({
    secret: grunt.file.readJSON('secret.json'),
    sftp: {
      deploy: {
        files: {
          "./": ["config.js", "Dockerfile", "package.json", "proxy.js", "start.sh"]
        },
        options: {
          // srcBasePath: "package/",
          createDirectories: true,
          path: '/home/master/containers/proxy',
          host: '<%= secret.host %>',
          username: '<%= secret.username %>',
          password: '<%= secret.password %>',
          showProgress: true
        }
      }
    }
  });
  
  grunt.loadNpmTasks('grunt-ssh');
  grunt.registerTask('default', ['sftp']);
}

